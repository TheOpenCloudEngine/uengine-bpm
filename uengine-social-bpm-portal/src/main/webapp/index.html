<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#" xml:lang="en" lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<!-- no cache -->
	<META http-equiv="Expires" content="-1">
	<META http-equiv="Pragma" content="no-cache">
	<META http-equiv="Cache-Control" content="No-Cache">

	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<meta name="apple-mobile-web-app-status-bar-style" content="black"/>

	<!-- metaworks3 for ie7(json2) -->
	<script type="text/javascript" src="dwr/metaworks/scripts/json/json2.js"></script>

	<!-- metaworks3 for jQuery -->
		<script type="text/javascript" src="lib/jquery-1.11.1/jquery-1.11.1.min.js"></script>
        <script type="text/javascript" src="lib/jquery-ui-1.11.0.custom/jquery-ui.js"></script>
        <script type="text/javascript" src="lib/jquery/jquery.layout-latest.js"></script>

	<!--<script type="text/javascript" src="scripts/jquery/jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="scripts/jquery/jquery-ui-1.8.23.custom.min.js"></script>
	<script type="text/javascript" src="scripts/jquery/jquery.layout-latest.js"></script>-->
	<script type='text/javascript' src='scripts/jquery/timeago/jquery.timeago.js'></script>
	<script type="text/javascript" src="scripts/jquery/jqueryCycle/jquery.cycle2.js"></script>
	<script type="text/javascript" src="scripts/jquery/jqueryCycle/jquery.cycle2.carousel.js"></script>
	<script type="text/javascript" src="scripts/jquery/jqueryCycle/jquery.cycle2.center.js"></script>
	<script type="text/javascript" src="scripts/jquery/jquery.center.js"></script>
    <script type="text/javascript" src="scripts/jquery/jquery.msg.js"></script>
    <script type='text/javascript' src='scripts/jquery/jquery.textPlaceholder.js'></script>
	<script type="text/javascript" src="scripts/jquery/jquery.jqote2.js"></script>
	<script type="text/javascript" src="scripts/jquery/jquery.smartTab.js"></script>
	<!-- full calendar -->
	<script type="text/javascript" src="scripts/jquery/fullcalendar/fullcalendar.min.js"></script>

	<script type="text/javascript" src="lib/jquery/jquery.contextMenu.js"></script>
	<script type="text/javascript" src="lib/jquery/jquery.blockUI.js"></script>

	<script src="assets/plugins/jquery.cookie.min.js" type="text/javascript"></script>
	<script src="assets/plugins/mcustom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>

	<link rel="stylesheet" type="text/css" href="lib/jquery-ui-1.11.0.custom/jquery-ui.min.css" />
	<link rel="stylesheet" type="text/css" href="style/jquery.contextMenu.css" />
	<link rel="stylesheet" type="text/css" href="scripts/jquery/jquery-ui-189custom/development-bundle/themes/base/jquery.ui.all.css" />
	<link rel="stylesheet" type="text/css" href="scripts/jquery/jquery.msg.css" media="screen" />
	<link rel="stylesheet" href="assets/plugins/jnotify/jNotify.jquery.css">
	<link href="assets/plugins/datetimepicker/jquery.datetimepicker.css" rel="stylesheet">
	<!-- popup -->
	<link rel="stylesheet" href="scripts/jquery/cluetip/jquery.cluetip.css" />

	<!-- metaworks3 for dwr engine -->
	<script type='text/javascript' src='dwr/engine.js'></script>
	<script type='text/javascript' src='dwr/util.js'></script>
	<script type='text/javascript' src='dwr/interface/Metaworks.js'></script>

	<!-- metaworks3 for keyboard mapping -->
	<script type="text/javascript" src="dwr/metaworks/scripts/event/shortcut.js"></script>

	<!-- metaworks3 for context menu, import YUI -->
	<!--
    <link rel="stylesheet" type="text/css" href="dwr/metaworks/style/menu/reset.css">
    -->
	<link rel="stylesheet" type="text/css" href="dwr/metaworks/style/menu/container.css">
	<link rel="stylesheet" type="text/css" href="dwr/metaworks/style/menu/sam/menu.css">

	<script type="text/javascript" src="dwr/metaworks/scripts/yui-3.2.0-min.js"></script>
	<script type="text/javascript" src="dwr/metaworks/scripts/yui/build/utilities/utilities.js"></script>
	<script type="text/javascript" src="dwr/metaworks/scripts/yui/build/container/container.js"></script>
	<script type="text/javascript" src="dwr/metaworks/scripts/yui/build/menu/menu.js"></script>


	<!-- metaworks3 for ejs templete engine -->
	<script type="text/javascript" src="dwr/metaworks/scripts/ejs/ejs.js"></script>
	<script type="text/javascript" src="dwr/metaworks/scripts/ejs/ejs_debugger.js"></script>
	<script type="text/javascript" src="dwr/metaworks/scripts/ejs/view.js"></script>


	<!-- metaworks3 engine -->
	<script type="text/javascript" src="dwr/metaworks/scripts/metaworks.js"></script>

	<script type="text/javascript" src="lib/opengraph/OpenGraph-0.1-SNAPSHOT.js"></script>

	<!-- init -->
	<link rel="stylesheet" type="text/css" href="style/tree.css" />
	<link rel="stylesheet" type="text/css" href="style/palette.css" />
	<link rel="stylesheet" type="text/css" href="style/login.css" />

	<!-- <script type="text/javascript" src="dwr/metaworks/org/uengine/modeling/ElementView.ejs.js"></script>
	<script type="text/javascript" src="dwr/metaworks/org/uengine/kernel/designer/ui/ActivityView.ejs.js"></script> -->

	<!-- BEGIN DATEPICKER -->
	<link href="assets/plugins/pickadate/themes/default.css" rel="stylesheet">
	<link href="assets/plugins/pickadate/themes/default.date.css" rel="stylesheet">
	<link href="assets/plugins/pickadate/themes/default.time.css" rel="stylesheet">
	<!-- END MANDATORY SCRIPTS -->

	<!-- BEGIN MANDATORY STYLE -->
	<link href="assets/css/icons/icons.min.css" rel="stylesheet">
	<link href="assets/css/bootstrap.min.css" rel="stylesheet">
	<link href="assets/css/plugins.css" rel="stylesheet">
	<link href="assets/css/style.min.css" rel="stylesheet">
	<link href="#" rel="stylesheet" id="theme-color">
	<!-- END  MANDATORY STYLE -->

	<!-- BEGIN PAGE LEVEL STYLE -->
	<link href="assets/plugins/fullcalendar/fullcalendar.css" rel="stylesheet">
	<link href="assets/plugins/metrojs/metrojs.css" rel="stylesheet">

	<!-- END PAGE LEVEL STYLE -->
	<script src="assets/plugins/modernizr/modernizr-2.6.2-respond-1.1.0.min.js"></script>


	<!-- BEGIN MANDATORY SCRIPTS -->
	<script src="assets/plugins/bootstrap/bootstrap.min.js"></script>
	<script src="assets/plugins/nprogress/nprogress.js"></script>
	<script src="assets/plugins/breakpoints/breakpoints.js"></script>
	<!-- END MANDATORY SCRIPTS -->

	<script src="assets/js/application.js"></script>
	<!-- ##STYLE -->

	<!-- iconmoon -->
	<link rel="stylesheet" href="style/icomoon/style.css">
	<!--[if lt IE 8]><!-->
	<link rel="stylesheet" href="style/icomoon/ie7/ie7.css">
	<!--<![endif]-->

	<!-- bootstrap -->
	<link rel="stylesheet" type="text/css" href="style/bootstrap-3.0.2/dist/css/bootstrap.css" media="screen" />

	<!-- Just for debugging purposes. Don't actually copy this line! -->
	<!--[if lt IE 9]><script src="style/bootstrap-3.0.2/docs-assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
	<![endif]-->




	<!-- tab scripts -->
	<script type='text/javascript' src='scripts/common.js'></script>

	<!-- user css -->
	<link rel="stylesheet" type="text/css" href="style/themes/droppable_layout.css" />
	<link rel="stylesheet" type="text/css" href="style/themes/flatStyle/flat_theme.css" />
	<!--<link rel="stylesheet" type="text/css" href="style/themes/waveStyle/wave_theme.css" />-->

	<!-- front page -->
	<link rel="stylesheet" type="text/css" href="style/themes/flatStyle/front_style.css" />
	<link rel="stylesheet" type="text/css" href="style/themes/flatStyle/fwslider.css" />
	<script type='text/javascript' src='scripts/waveStyle/css3-mediaqueries.js'></script>

	<!-- smart tab -->
	<link rel="stylesheet" type="text/css" href="style/smartTab.css">

	<!-- for ckeditor -->
	<script type='text/javascript' src='scripts/ckeditor_3.6.3/ckeditor/ckeditor.js'></script>


	<!-- for Big Blue Button -->
	<script type='text/javascript' src='scripts/sha1.js'></script>

	<!-- for check date -->
	<script type='text/javascript' src='scripts/datejs/date_kr.js'></script>

	<!-- mw3 component -->
	<!-- <link rel="stylesheet" type="text/css" href="style/uclipse.css" /> -->

	<!-- for open presentation -->
	<link rel="stylesheet" type="text/css" href="scripts/presentation/jmpressStyle.css" />
	<script type="text/javascript" src="scripts/presentation/jmpress.all.js"></script>

	<script src="scripts/ace-1.1.0/build/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
	<script src="scripts/ace-1.1.0/build/src-noconflict/ext-static_highlight.js"></script>

	<style>
		html,
		body {
			width: 100%;
			height: 100%;
			padding: 0;
			margin: 0;
			overflow: hidden; /* when page gets too small for container min-width/height */
		}
		.mw3_layout {
			min-height: 10px;
			min-width: 10px;
			position: absolute;
			top: 0px;	/* margins in pixels */
			bottom: 0px;	/* could also use a percent */
			left: 0px;
			right: 0px;
		}

		.form-page.readonly .controls {
			border-bottom: 1px solid #eeeeee;
			padding-top: 10px;
			color: #999;
		}
		.form-page.view .controls {
			border-bottom: 1px solid #eeeeee;
			padding-top: 10px;
			color: #999;
		}
	</style>
	<script type="text/javascript">
		jQuery.browser = {};
		(function () {
			jQuery.browser.msie = false;
			jQuery.browser.version = 0;
			if (navigator.userAgent.match(/MSIE ([0-9]+)\./)) {
				jQuery.browser.msie = true;
				jQuery.browser.version = RegExp.$1;
			}

			if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) )
				jQuery.browser.mobile = true;
		})();

		// no convert for face helper variable and start with '__' char variable
		dwr.engine.serialize.convertObject = function(batch, directrefmap, otherrefmap, data, name, depth) {
			// treat objects as an associative arrays
			var reply = "Object_" + dwr.engine.serialize.getObjectClassName(data).replace(/:/g, "?") + ":{";
			var elementset = (data.constructor && data.constructor.$dwrClassMembers ? data.constructor.$dwrClassMembers : data);
			var element;
			for (element in elementset) {
				if (typeof data[element] != "function" && !dwr.engine._excludeObjectAttributes[element] && (element.indexOf('__') != 0 || element == '__className')) {
					batch.paramCount++;
					var childName = "c" + dwr.engine._batch.map.callCount + "-e" + batch.paramCount;
					dwr.engine.serialize.convert(batch, directrefmap, otherrefmap, data[element], childName, depth + 1);
					reply += encodeURIComponent(element) + ":reference:" + childName + ", ";
				}
			}

			if (reply.substring(reply.length - 2) == ", ") {
				reply = reply.substring(0, reply.length - 2);
			}
			reply += "}";

			return reply;
		};

		/*
		 * facebook app id
		 *
		 * 119159701538006 : http://localhost:8080/uengine-web/
		 * 254387971333741 : http://processcodi.com:9090/uengine-web/
		 * 210427999080209 : http://184.173.22.147:8080/uengine-web/
		 */
		var facebookAppId = '119159701538006';

		//mw3.usingTemplateEngine = 'jQote';
		mw3.needToConfirmMessage = '$confirm.message';

		//mw3.optimizeObjectMemory = true;


		var Request = function() {
			this.getParameter = function(name) {
				var rtnval = "";
				var nowAddress = unescape(location.href);
				var parameters = (nowAddress.slice(nowAddress.indexOf("?") + 1,
						nowAddress.length)).split("&");

				for ( var i = 0; i < parameters.length; i++) {
					var varName = parameters[i].split("=")[0];
					if (varName.toUpperCase() == name.toUpperCase()) {
						rtnval = parameters[i].split("=")[1];
						break;
					}
				}
				return rtnval;
			}
		}

		$(document).ready(function() {
			document.body.addEventListener("DOMNodeInserted", function (ev) {
				//console.log('DOMNodeInserted');
				//console.log(ev);
			});

			$.fn.cycle.defaults.autoSelector = '.slideshow';

			var request = new Request();

			if (navigator.appVersion.indexOf("Win")!=-1){
				/*$('body').css('font-family', "'맑은 고딕', Malgun gothic, Arial");*/
			}

			//mw3.importClasses(["org.uengine.codi.mw3.model.*", "org.metaworks.widget.*"]);

			mw3.recordingExceptClasses["org.uengine.codi.mw3.model.Session"] = true;

			mw3.testSet={
				"testScenario":
						[{"value":{"__className":"org.uengine.codi.mw3.model.InstanceListPanel","metaworksContext":null},"objectKey":"org.uengine.codi.mw3.model.InstanceListPanel","methodName":"newInstance","scenario":"testScenario"},{"value":{"__className":"org.uengine.codi.mw3.model.CommentWorkItem","activityAppAlias":null,"content":null,"contentLoaded":false,"dueDate":null,"endDate":null,"endpoint":null,"extFile":null,"file":null,"genericWorkItemHandler":null,"implementationObject":null,"instId":null,"instantiation":true,"memo":null,"metaworksContext":{"__className":"org.metaworks.MetaworksContext","how":null,"when":"edit","where":null},"parameters":null,"rootInstId":null,"saveDate":null,"sourceCode":null,"startDate":null,"status":null,"taskId":null,"title":"새글쓰기","tool":null,"type":"comment","workItemHandler":null,"writer":{"__className":"org.uengine.codi.mw3.model.User","implementationObject":null,"metaworksContext":{"__className":"org.metaworks.MetaworksContext","how":null,"when":"workitem","where":"local"},"mood":null,"name":"Tester","network":null,"userId":"test","__objectId":323,"__faceHelper":{"objectId":"323","className":"org.uengine.codi.mw3.model.User","divId":"objDiv_323","windowObjectId":"54"}},"__objectId":207,"__faceHelper":{"objectId":"207","className":"org.uengine.codi.mw3.model.CommentWorkItem","commandTrigger":null,"commandActivityAppAlias":null,"commandParameters":null,"sending":false}},"objectKey":"org.uengine.codi.mw3.model.CommentWorkItem","methodName":"add","scenario":"testScenario"},{"value":{"__className":"org.uengine.codi.mw3.model.CommentWorkItem","activityAppAlias":null,"content":null,"contentLoaded":false,"dueDate":null,"endDate":null,"endpoint":null,"extFile":null,"file":null,"genericWorkItemHandler":null,"implementationObject":null,"instId":893,"instantiation":false,"memo":null,"metaworksContext":{"__className":"org.metaworks.MetaworksContext","how":null,"when":"edit","where":null},"parameters":null,"rootInstId":null,"saveDate":null,"sourceCode":null,"startDate":null,"status":null,"taskId":-1,"title":"답달기","tool":null,"type":"comment","workItemHandler":null,"writer":{"__className":"org.uengine.codi.mw3.model.User","implementationObject":null,"metaworksContext":{"__className":"org.metaworks.MetaworksContext","how":null,"when":"workitem","where":"local"},"mood":null,"name":"Tester","network":null,"userId":"test","__objectId":323,"__faceHelper":{"objectId":"323","className":"org.uengine.codi.mw3.model.User","divId":"objDiv_323","windowObjectId":"54"}},"__objectId":227,"__faceHelper":{"objectId":"227","className":"org.uengine.codi.mw3.model.CommentWorkItem","commandTrigger":null,"commandActivityAppAlias":null,"commandParameters":null,"sending":false}},"objectKey":"org.uengine.codi.mw3.model.CommentWorkItem@-1","methodName":"add","scenario":"testScenario"},{"value":{"__className":"org.uengine.codi.mw3.model.CommentWorkItem","activityAppAlias":null,"content":null,"contentLoaded":false,"dueDate":null,"endDate":null,"endpoint":null,"extFile":null,"file":null,"genericWorkItemHandler":null,"implementationObject":null,"instId":893,"instantiation":false,"memo":null,"metaworksContext":{"__className":"org.metaworks.MetaworksContext","how":null,"when":"edit","where":null},"parameters":null,"rootInstId":null,"saveDate":null,"sourceCode":null,"startDate":null,"status":null,"taskId":-1,"title":"달달기2","tool":null,"type":"comment","workItemHandler":null,"writer":{"__className":"org.uengine.codi.mw3.model.User","implementationObject":null,"metaworksContext":{"__className":"org.metaworks.MetaworksContext","how":null,"when":"workitem","where":"local"},"mood":null,"name":"Tester","network":null,"userId":"test","__objectId":323,"__faceHelper":{"objectId":"323","className":"org.uengine.codi.mw3.model.User","divId":"objDiv_323","windowObjectId":"54"}},"__objectId":227,"__faceHelper":{"objectId":"227","className":"org.uengine.codi.mw3.model.CommentWorkItem","commandTrigger":null,"commandActivityAppAlias":null,"commandParameters":null,"sending":false}},"objectKey":"org.uengine.codi.mw3.model.CommentWorkItem@-1","methodName":"add","scenario":"testScenario"},{"value":{"__className":"org.uengine.codi.mw3.model.CommentWorkItem","activityAppAlias":null,"content":null,"contentLoaded":false,"dueDate":null,"endDate":null,"endpoint":null,"extFile":null,"file":null,"genericWorkItemHandler":null,"implementationObject":null,"instId":893,"instantiation":false,"memo":null,"metaworksContext":{"__className":"org.metaworks.MetaworksContext","how":null,"when":"edit","where":null},"parameters":null,"rootInstId":null,"saveDate":null,"sourceCode":null,"startDate":null,"status":null,"taskId":-1,"title":null,"tool":null,"type":"comment","workItemHandler":null,"writer":{"__className":"org.uengine.codi.mw3.model.User","implementationObject":null,"metaworksContext":{"__className":"org.metaworks.MetaworksContext","how":null,"when":"workitem","where":"local"},"mood":null,"name":"Tester","network":null,"userId":"test","__objectId":323,"__faceHelper":{"objectId":"323","className":"org.uengine.codi.mw3.model.User","divId":"objDiv_323","windowObjectId":"54"}},"__objectId":227,"__faceHelper":{"objectId":"227","className":"org.uengine.codi.mw3.model.CommentWorkItem","commandTrigger":null,"commandActivityAppAlias":null,"commandParameters":null,"sending":false}},"objectKey":"org.uengine.codi.mw3.model.CommentWorkItem@-1","methodName":"newActivity","scenario":"testScenario"},{"value":{"__className":"org.uengine.codi.mw3.model.IProcessMap","metaworksContext":{"__className":"org.metaworks.MetaworksContext","how":null,"when":"view","where":null},"defId":"examples/process/IssueManagement.process"},"objectKey":"org.uengine.codi.mw3.model.IProcessMap@examples/process/IssueManagement.process","methodName":"initiate","scenario":"testScenario"},{"value":{"__className":"org.uengine.codi.mw3.model.IProcessMap","metaworksContext":{"__className":"org.metaworks.MetaworksContext","how":null,"when":"view","where":null},"defId":"examples/process/IssueManagement.process"},"objectKey":"org.uengine.codi.mw3.model.IProcessMap@examples/process/IssueManagement.process","methodName":"initiate","scenario":"testScenario"}]
			}

			mw3.setWhen(mw3.WHEN_VIEW);
//		 		mw3.template_error = function(e, actualFace) {
//					if(e.lineNumber){
//						if(e.lineText)
//							var message = "["+actualFace+"] at line "+e.lineNumber+": "+e.lineText+": "+e.message;
//						else
//							var message = "["+actualFace+"] at line "+e.lineNumber+": "+e.message;
//					}else
//						var message = "["+actualFace+"] "+e.message;
//
//					var logger = mw3.getAutowiredObject('org.uengine.codi.platform.Console');
//					if(logger) logger.__getFaceHelper().addLog( message );
//					else
//						alert(message);
//
//		 		};

			Metaworks3.prototype.startLoading = function(){
//			 			$('body').prepend('<div id=\"mw3_progress\" style=\"position:absolute; z-index:9999999; top:50%; left:50%; margin-top:-90px; margin-left:-60px;\"><div id=\"info_div_box\"><img src=\"images/loading.gif\"></div></div>');
				$.blockUI.defaults.css.backgroundColor = "none";
				$.blockUI.defaults.css.border = "none";

				$.blockUI({ message: '<img src=\"images/loading.gif\" style=\"width:5em;\">' });
			};
			Metaworks3.prototype.endLoading = function(){
//			 			/*setTimeout(function(){
//			 				$('#mw3_progress').remove();
//			 			}, 100);*/

				$.unblockUI();
			};


			Metaworks3.prototype.showInfo = function(objId, message){
				var divId = mw3._getObjectDivId(objId);
				var offset = $('#' + divId).offset();

				if(offset){
					var offsetRight = offset.left + $('#' + divId).width() - 20;
					var offsetMiddle = offset.top + ($('#' + divId).height()/2- 11);
					/*
					 var html;
					 html = "<div id='info_div_" + objId + "' style='position:absolute; z-index:9999999; top:"+offsetMiddle+"px; left:"+offsetRight+"px;'><div id='info_div_done_box'  >"+message+"</div></div>";

					 $('body').append(html);
					 setTimeout(function(){
					 $('body>#info_div_' + objId).fadeOut(500);
					 setTimeout(function(){$('body>#info_div_' + objId).remove();},500);
					 },2000);
					 */
				}

			};

			mw3.showError = function(objId, message, methodName){
				if( this.getFaceHelper(objId) && this.getFaceHelper(objId).endLoading)
					this.getFaceHelper(objId).endLoading();
				else
					mw3.endLoading(objId);

				try{mw3.endLoading(objId);}catch(x){}

				html = "<div class='alert alert-warning alert-dismissable'style='width: 100%; text-align: center;'><button type='button' class='close' data-dismiss='alert' aria-hidden='true' onclick='$(this).parent().remove()'>&times;</button><span class='icon-spam'></span> "+ mw3.localize(message)+" <button type='button' class='btn btn-default btn-xs ' data-dismiss='alert' aria-hidden='true' onclick='$(this).parent().remove(); mw3.getObject(" + objId + ")."+ methodName + "()'><span class='glyphicon glyphicon-repeat'></span> Retry</button></div>";

				$('.error_div').append(html);
			}

			mw3.alert = function(message){

				var html;
				html = "<div class='alert alert-danger alert-dismissable'style='width: 100%; text-align: center;'><button type='button' class='close' data-dismiss='alert' aria-hidden='true' onclick='$(this).parent().remove()'>&times;</button><span class='icon-spam'></span> "+ mw3.localize(message)+"</div>";

				$('.error_div').append(html);

				/* $.msg({
				 bgPath : mw3.base + '/images/',
				 content : "<b>" + mw3.localize(message) + "</b>"
				 }); */
			}

			mw3.showValidation = function(objId, inputObjectId, isValid, message){
				if(!isValid)
					mw3.alert(message);
			};

			mw3.localize = function(){
				var message = arguments[0];

				if(message != null && typeof message == 'string' && message.indexOf('$')==0 && this.getMessage){
					message = message.substring(1);
					message = this.getMessage(message);
				}

				if(message != null && message.match(/%s/g) != null) {

					if (message.match(/%s/g).length != arguments.length - 1) {
						throw new Error(mw3.localize('$NotEqualToFormatCountAndArgumentCount'));
					}
				}

				if(arguments.length == 1)
					return message;

				var pattern = /%s/g;
				var matchArray;

				var str = " ";

				var cnt = 0;
				while((matchArray = pattern.exec(message)) != null){
					var argument = arguments[1+ cnt++];
					argument = this.localize(argument);

					message = message.replace("%s", argument);
				}

				return message;
			}

			mw3.getMessage = function(key, defaultValue){
				var localeHandler = mw3.getAutowiredObject("org.uengine.codi.mw3.model.Locale");

				if(localeHandler!=null && localeHandler.resourceBundle != null){
					var message = localeHandler.resourceBundle[key];
					if(message)
						return message;
				}

				if(defaultValue)
					return defaultValue;

				return key;
			}

			var locatePage = new MetaworksObject({
				__className : "org.uengine.codi.mw3.model.Locale",
				language : navigator.language
			}, 'body').load();

			mw3.metadataBundle = function(key, defaultValue){
				var metadataHandler = mw3.getAutowiredObject("org.metaworks.metadata.MetadataBundle");

				if(metadataHandler!=null && metadataHandler.projectBundle != null){
					var message = metadataHandler.projectBundle[key];
					if(message)
						return message;
				}

				if(defaultValue)
					return defaultValue;

				return key;
			}

			dwr.engine.setErrorHandler(function(errorString, exception){
				if(console){
					//console.log(errorString);
					//console.log(exception);
				}

				if(errorString && errorString.length > 0)
					alert(errorString);
			});

			var type = request.getParameter('type');
			if(type == 'runner'){
				var projectId = request.getParameter('projectId');
				var className = request.getParameter('className');

				var runner = new MetaworksObject({
					__className : "org.uengine.codi.mw3.Runner",
					projectId : projectId,
					className : className
				}, 'body');

				runner.run();

			}else if(type == 'SSOLogin'){
				mw3.setWhen(mw3.WHEN_EDIT);
				mw3.setHow('login');
				mw3.setWhere(mw3.WHERE_EVER);
				var ssoService = request.getParameter("service")!=null?request.getParameter("service"):"";
				var startcodi = new MetaworksObject({
					__className : "org.uengine.codi.mw3.StartCodi",
					key : "loader",
					ssoService: ssoService
				}, 'body');
			}else{
				var startcodi = new MetaworksObject({
					__className : "org.uengine.codi.mw3.StartCodi",
					key : 'loader'
				}, 'body');
			}

			dwr.engine.setPollStatusHandler(function(newStatus, ex, maxRetriesReached){
				if(!newStatus)
					alert('disconnected');

				console.log(newStatus);
				console.log(ex);
				console.log(maxRetriesReached);
			});

			window.onbeforeunload= function(){
				return 'You are about to leave this page, OK?';
			};

			mw3.onLoadFaceHelperScript();
		});
	</script>
</head>

<body onload="dwr.engine.setActiveReverseAjax(true);">
<div class="error_div"></div>
</body>
</html>